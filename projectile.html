<html>
  <head>
    <title>projectile</title>
    <script src="canvas.js"></script>
    <script src="color.js"></script>
    <script src="themes.js"></script>
  </head>
  <body>
    <canvas id="canvas" />
    <script>

      let canvas = document.getElementById( 'canvas' )
      let context = canvas.getContext( '2d' )

      fullbody( canvas )
      fillBackground( context, 'white' )

      let showControlPoints = false
      let paramX = 100
      let paramY = 100
      let paramWidth = 300
      let paramHeight = paramWidth / 6
      let color = 'orange'

      let x = paramX
      let y = paramY
      let width = paramWidth
      let height = paramHeight ? paramHeight : paramWidth / 6
      let yLower = y + height * 1.4
      let textY = yLower
      let curve = width / 4
      let thick = height / 2.5
      let skew = width / 15
      let point = 5

      // upper part
      x += width / 5

      let c1x = x + curve
      let c1y = y - height
      let c2x = x + width - curve
      let c2y = y - height
      let x2 = x + width
      let y2 = y + thick

      if( showControlPoints ) {
        context.beginPath()
        context.fillStyle = 'red'
        context.rect( c1x - point / 2, c1y - point / 2, point, point )
        context.rect( c2x - point / 2, c2y - point / 2, point, point )
        context.fill()
      }

      context.beginPath();
      context.moveTo( x, y )

      context.bezierCurveTo( c1x, c1y, c2x, c2y, x2, y2 )
      c1x = x + width - curve
      c1y = y - height + thick
      c2x = x + curve
      c2y = y - height + thick
      x2 = x + skew
      y2 = y + thick / 2

      context.bezierCurveTo( c1x, c1y, c2x, c2y, x2, y2 )

      context.fillStyle = color
      context.fill()

      if( showControlPoints ) {
        context.beginPath()
        context.fillStyle = 'green'
        context.rect( c1x - point / 2, c1y - point / 2, point, point )
        context.rect( c2x - point / 2, c2y - point / 2, point, point )
        context.fill()
      }

      // lower part -----------------------------------------------------------
      x -= width / 5

      y = yLower
      height *= -1
      thick *= -1

      c1x = x + curve
      c1y = y - height
      c2x = x + width - curve
      c2y = y - height
      x2 = x + width
      y2 = y + thick

      if( showControlPoints ) {
        context.beginPath()
        context.fillStyle = 'red'
        context.rect( c1x - point / 2, c1y - point / 2, point, point )
        context.rect( c2x - point / 2, c2y - point / 2, point, point )
        context.fill()
      }

      context.beginPath();
      context.moveTo( x, y )

      context.bezierCurveTo( c1x, c1y, c2x, c2y, x2, y2 )
      c1x = x + width - curve
      c1y = y - height + thick
      c2x = x + curve
      c2y = y - height + thick
      x2 = x + skew
      y2 = y + thick / 2

      context.bezierCurveTo( c1x, c1y, c2x, c2y, x2, y2 )

      context.fillStyle = color
      context.fill()

      if( showControlPoints ) {
        context.beginPath()
        context.fillStyle = 'green'
        context.rect( c1x - point / 2, c1y - point / 2, point, point )
        context.rect( c2x - point / 2, c2y - point / 2, point, point )
        context.fill()
      }

      // text  ------------------------------------------

      height *= -1

      let posX = x + width / 6
      let textPx = width / 6

      context.font = 'bold italic ' + textPx + 'px verdana'
      context.fillStyle = '#555555'
      context.shadowBlur = 7
      context.shadowColor = 'white'
      let text = 'projectile'
      let textBox = context.measureText( text )
      let textHeight = textBox.actualBoundingBoxAscent + textBox.actualBoundingBoxDescent
      //context.fillText( text, posX - textBox.width / 2, posY - textHeight / 2 )
      
      let posY = textY - textHeight / 2
      context.fillText( text, posX, posY )



    </script>
  </body>
</html>